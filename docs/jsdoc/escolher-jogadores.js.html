<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: escolher-jogadores.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: escolher-jogadores.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
/**
 * HTML do modal de seleção de jogadores, exibido antes do início do jogo.
 * 
 * Contém:
 * - Título explicativo
 * - Botões de seleção de quantidade de jogadores
 * - Botões de ação (Voltar e OK)
 * 
 * Deve ser inserido dinamicamente no DOM.
 * 
 * @type {string}
 */
const modal_escolher_jogadores = `
	&lt;div class="painel-regras">

		&lt;div class="painel-regras__modal">
			&lt;div class="painel-regras__modal-titulo">
				Escolha a quantidade de jogadores:
			&lt;/div>
			&lt;div class="painel-regras__modal-opcao">
				&lt;button class="painel-regras__modal-opcao-btn btn--selecionado" onclick="selecionarOpcao(this)">2 jogadores&lt;/button> 
				&lt;button class="painel-regras__modal-opcao-btn" onclick="selecionarOpcao(this)">3 jogadores&lt;/button>
				&lt;button class="painel-regras__modal-opcao-btn" onclick="selecionarOpcao(this)">4 jogadores&lt;/button> 

			&lt;/div>
			&lt;div class="painel-regras__modal-acao">
				&lt;button class="painel-regras__modal-acao-btn btn--voltar" onclick="fechar()">
					&lt;i class="fas fa-arrow-left">&lt;/i> Voltar
				&lt;/button>
				&lt;button class="painel-regras__modal-acao-btn btn--ok" onclick="irParaJogo()">OK&lt;/button>

			&lt;/div>

		&lt;/div>


	&lt;/div>
`

/** @type {number} Quantidade de jogadores selecionado pelo usuário */
let jogadoresSelecionado = 2;

/**
 * Remove o modal da tela com efeito de fade out.
 * 
 * @returns {void}
 * @throws {Error} Se o modal não for encontrado.
 */
function fechar() {
	const div = document.querySelector(".painel-regras");
	if (div) {

		div.classList.add("efeito--fade-out");
		setTimeout(() => {
			div.remove();
		}, 500)

	} else {
		console.error('Não foi possível capturar o elemento ".painel-regras"');
	}

}

/**
 * Destaca a opção clicada e atualiza a variável `jogadoresSelecionado`.
 *  
 * @param {HTMLButtonElement} clique - elemento que sofreu a ação
 * @returns {void}
 * @throws {Error} Se os botões de opção não forem encontrados no DOM.
 * @throws {Error} Se o elemento clicado não for definido.
 */
function selecionarOpcao(clique) {
	const listaOpcoes = document.querySelectorAll('.painel-regras__modal-opcao-btn');
	if (listaOpcoes) {
		listaOpcoes.forEach(opcao => {
			if (opcao.classList.contains("btn--selecionado")) {
				opcao.classList.remove("btn--selecionado")
			}
		});
	} else {
		console.error('Não foi possível capturar o elemento ".painel-regras__modal-opcao-btn"');
	}

	if (clique) {
		clique.classList.add("btn--selecionado");
		const texto = clique.textContent.trim();
		jogadoresSelecionado = parseInt(texto);
	} else {
		console.error('Não foi possível capturar o elemento que fez a chamada');
	}

}

/**
 * Envia a quantidade de jogadores selecionada ao servidor e redireciona para a tela do jogo.
 * 
 * @returns {Promise&lt;void>}
 * @throws {Error} Se não for possível redirecionar o usuário.
 */
function irParaJogo() {
	fetch('/jogadores', {
		method: 'POST',
		headers: {
			'Content-Type': 'application/json'
		},
		body: JSON.stringify({ jogadores: jogadoresSelecionado })
	}).then(response =>{
		window.location.href = `/jogo?jogadores=${jogadoresSelecionado}`;
	}).catch(error => {
		console.error("Erro ao redirecionar para o jogo:", error);
	});

	


}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#allowDrop">allowDrop</a></li><li><a href="global.html#balunga">balunga</a></li><li><a href="global.html#bloquearJogadorPrincipal">bloquearJogadorPrincipal</a></li><li><a href="global.html#boxAtivo">boxAtivo</a></li><li><a href="global.html#capturarJogadorAtual">capturarJogadorAtual</a></li><li><a href="global.html#cartasBalunga">cartasBalunga</a></li><li><a href="global.html#cavarCartas">cavarCartas</a></li><li><a href="global.html#checagem">checagem</a></li><li><a href="global.html#checarBalunga">checarBalunga</a></li><li><a href="global.html#checarJogadorBalunga">checarJogadorBalunga</a></li><li><a href="global.html#checarPenalidade">checarPenalidade</a></li><li><a href="global.html#configurarJogador">configurarJogador</a></li><li><a href="global.html#distribuirCartas">distribuirCartas</a></li><li><a href="global.html#drag">drag</a></li><li><a href="global.html#drop">drop</a></li><li><a href="global.html#explosaoBalunga">explosaoBalunga</a></li><li><a href="global.html#faixaPenalidade">faixaPenalidade</a></li><li><a href="global.html#fechar">fechar</a></li><li><a href="global.html#iniciarAnimacao">iniciarAnimacao</a></li><li><a href="global.html#iniciarPreparacao">iniciarPreparacao</a></li><li><a href="global.html#irParaJogo">irParaJogo</a></li><li><a href="global.html#isJogoFinalizado">isJogoFinalizado</a></li><li><a href="global.html#jogadaMaquina">jogadaMaquina</a></li><li><a href="global.html#jogadorAtual">jogadorAtual</a></li><li><a href="global.html#jogadoresSelecionado">jogadoresSelecionado</a></li><li><a href="global.html#listaJogadores">listaJogadores</a></li><li><a href="global.html#mesa_montada">mesa_montada</a></li><li><a href="global.html#modal_escolher_jogadores">modal_escolher_jogadores</a></li><li><a href="global.html#montarBox2Jogadores">montarBox2Jogadores</a></li><li><a href="global.html#montarBox3Jogadores">montarBox3Jogadores</a></li><li><a href="global.html#montarBox4Jogadores">montarBox4Jogadores</a></li><li><a href="global.html#montarCava">montarCava</a></li><li><a href="global.html#montarMesa">montarMesa</a></li><li><a href="global.html#numeroJogadores">numeroJogadores</a></li><li><a href="global.html#params">params</a></li><li><a href="global.html#posicionarCartasJogadoresHorizontal">posicionarCartasJogadoresHorizontal</a></li><li><a href="global.html#posicionarCartasJogadoresVertical">posicionarCartasJogadoresVertical</a></li><li><a href="global.html#proximaRodada">proximaRodada</a></li><li><a href="global.html#proximoJogador">proximoJogador</a></li><li><a href="global.html#registrarJogada">registrarJogada</a></li><li><a href="global.html#rodada">rodada</a></li><li><a href="global.html#selecionarCarta">selecionarCarta</a></li><li><a href="global.html#selecionarOpcao">selecionarOpcao</a></li><li><a href="global.html#todosJogadores">todosJogadores</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Mon Jul 21 2025 19:09:08 GMT-0300 (Horário Padrão de Brasília)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
